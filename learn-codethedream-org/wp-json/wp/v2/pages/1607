{"id":1607,"date":"2022-04-19T13:16:39","date_gmt":"2022-04-19T17:16:39","guid":{"rendered":"https:\/\/learn.codethedream.org\/?page_id=1607"},"modified":"2022-06-18T16:02:38","modified_gmt":"2022-06-18T20:02:38","slug":"ctd-node-express-class-lesson-2a-npm-and-async-patterns","status":"publish","type":"page","link":"https:\/\/learn.codethedream.org\/ctd-node-express-class-lesson-2a-npm-and-async-patterns\/","title":{"rendered":"CTD Node\/Express Class Lesson 2: NPM and Async Patterns"},"content":{"rendered":"\n<h2><strong>Learning Material<\/strong><\/h2>\n\n\n\n<p>This lesson covers how to use the node package manager npm to install additional modules from the npm library.  It also covers event processing and async patterns in node.<\/p>\n\n\n\n<p>&nbsp;There are several introductory videos to watch.&nbsp;<strong><a rel=\"noreferrer noopener\" href=\"https:\/\/nodejs.dev\/learn\/the-nodejs-event-loop\" target=\"_blank\">This link<\/a><\/strong>&nbsp;and&nbsp;<strong><a rel=\"noreferrer noopener\" href=\"https:\/\/www.youtube.com\/watch?v=8aGhZQkoFbQ\" target=\"_blank\">this video<\/a><\/strong>&nbsp;cover the event loop, and are referred to as external resources in the main video.&nbsp;<strong><a rel=\"noreferrer noopener\" href=\"https:\/\/www.youtube.com\/watch?v=cFTFtuEQ-10\" target=\"_blank\">This video<\/a><\/strong>&nbsp;covers try\/catch\/throw error handling in JavaScript, which is critical when writing asynchronous code.<\/p>\n\n\n\n<p>You continue watching <strong><a href=\"https:\/\/youtu.be\/Oe421EPjeBE?t=6357\">this video<\/a><\/strong>.  This week, you watch from 1:45:57 of the video to 3:40:46. <\/p>\n\n\n\n<p><strong>Important:<\/strong> At about 2:03 of the video, the instructor does some git operations.  <strong>Do not do these. <\/strong> You do need to create the .gitignore file, but you definitely do not do a git init inside the answers directory.  That would create a git repository nested within your existing repository, which is a mess.  In general, in this and all future videos, igore any git operations the instructor performs.  You already have the git repository you need.<\/p>\n\n\n\n<h2><strong>Assignments<\/strong><\/h2>\n\n\n\n<p><strong>Coding Assignment<\/strong><\/p>\n\n\n\n<p>As the instructor creates node programs, you duplicate his work just as before.  You create a file package. json.  Be sure that you are in the answers directory when you do the npm init to create this file.  You also create several other small programs.  Be sure to put them inside the answers directory.  The programs you create for this lesson are:<\/p>\n\n\n\n<ul><li>13-event-emitter.js<\/li><li>14-request-event.js<\/li><li>15-create-big-file.js<\/li><li>16-streams.js<\/li><li>17-http-stream.js<\/li><\/ul>\n\n\n\n<p>For week 1, you created files in the node-express-course\/01-node-tutorial\/answers directory.  For week 2, you continue to do your work in that same directory.  However, before you do your work for this week, you switch to a new git branch.  While the week1 branch is active, use the command<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>git checkout -b week2<\/code><\/pre>\n\n\n\n<p>As you will be working on the node-express-course repository for some weeks, this is the way you separate your assignments for each week.<\/p>\n\n\n\n<p><strong>Additional Assignment 1<\/strong><\/p>\n\n\n\n<p>Within the answers directory, create two files, practice1.js and practice2.js.  The practice2.js file should just have a single variable called sentence, initialized to a sentence of your choosing.  Export this variable.  In practice1.js, require the sentence variable from the practice2.js module.  Require also the os and fs modules.  Then, also in practice1.js, write code that will create a file, .\/content\/practice.txt.  Use asynchronous write operations.  Write first the sentence and then the os.userInfo().username to the file.  Test practice1.js to make sure these are written to the file (they will typically appear on the same line.)<\/p>\n\n\n\n<p><strong>Additional Assignment 2<\/strong><\/p>\n\n\n\n<p>Within the answers directory, create a file practice3.js. Begin this file with this line:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>fs = require('fs').promises<\/code><\/pre>\n\n\n\n<p>Within practice3.js, create an async function called makeFile. This function chould create the file .\/content\/practice2.txt, using asynchronous calls that return promises. These must all be within a try\/catch block. Use await to get the results of each call. The first line, written without the append flag, should say \u201cThis is the first line.\u201d and should end with a newline character. The next lines, each of which should end in a line end, should read \u201cThis is line 2\u201d, then \u201cThis is line 3\u201d, and so on up to 10. These should be written in a loop, with the append flag. The catch statement should log the error, if any, to the console. After the makeFile function declaration, add a program line that calls makeFile(). Test the practice3.js program to make sure it creates the file correctly.<\/p>\n\n\n\n<p><strong>Mindset Assignment<\/strong><\/p>\n\n\n\n<p>Follow this link to access your mindset assignment for the week: <a href=\"https:\/\/learn.codethedream.org\/mindset-curriculum-assignment-on-mindset\/\"><strong>Mindset Curriculum: Growth Mindset<\/strong><\/a><\/p>\n\n\n\n<p><\/p>\n\n\n\n<h2 id=\"submitting-your-work\"><strong>Submitting Your Work<\/strong><\/h2>\n\n\n\n<p>When you run npm install, you create a node_modules directory.  You do not want this to be uploaded to Github, because it is large.  So, create a file called .gitignore in the answers directory, with the single line<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/node_modules<\/code><\/pre>\n\n\n\n<p>This prevents git from adding the contents of the node_modules directory.  Then do the following to submit your work:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>git add -A\ngit commit -m \"answers for lesson 2\"\ngit push origin week2<\/code><\/pre>\n\n\n\n<p>Then go to your github repository &#8212; the one you created with a fork.  Create a pull request.  The target of the pull request should be the main branch of the repository you created. Once you have created the pull request, you submit your link to the pull request in the assignment submission form (link in next paragraph).  <\/p>\n\n\n\n<p><strong>When you\u2019ve completed your Coding Assignment and Mindset Assignment submit ALL of your work using the&nbsp;<a href=\"http:\/\/tiny.cc\/squibby2\">Squibby 2.0 Assignment Submission Form<\/a><\/strong><\/p>\n\n\n\n<p><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Learning Material This lesson covers how to use the node package manager npm to install additional modules from the npm library. It also covers event processing and async patterns in node. &nbsp;There are several introductory videos to watch.&nbsp;This link&nbsp;and&nbsp;this video&nbsp;cover the event loop, and are referred to as external resources in the main video.&nbsp;This video&nbsp;covers<\/p>\n","protected":false},"author":5,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"_genesis_hide_title":false,"_genesis_hide_breadcrumbs":false,"_genesis_hide_singular_image":false,"_genesis_hide_footer_widgets":false,"_genesis_custom_body_class":"","_genesis_custom_post_class":"","_genesis_layout":"","_vp_format_video_url":"","_vp_image_focal_point":[]},"featured_image_src":null,"featured_image_src_square":null,"_links":{"self":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages\/1607"}],"collection":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/comments?post=1607"}],"version-history":[{"count":0,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages\/1607\/revisions"}],"wp:attachment":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/media?parent=1607"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}