{"id":781,"date":"2020-12-27T15:05:57","date_gmt":"2020-12-27T20:05:57","guid":{"rendered":"https:\/\/learnctd.wpengine.com\/?page_id=781"},"modified":"2021-03-23T10:08:33","modified_gmt":"2021-03-23T14:08:33","slug":"configuring-your-machine-for-ruby-rails-development","status":"publish","type":"page","link":"https:\/\/learn.codethedream.org\/configuring-your-machine-for-ruby-rails-development\/","title":{"rendered":"Configuring Your Machine for Ruby\/Rails Development"},"content":{"rendered":"\n<p>Resource: <strong><a href=\"https:\/\/docs.google.com\/presentation\/d\/1sfR-RtvLXXfzucKh685-LFjurm_AbkeWRkPVHtgi5fU\/edit#slide=id.gc70e71d1bc_0_28\" data-type=\"URL\" data-id=\"https:\/\/docs.google.com\/presentation\/d\/1sfR-RtvLXXfzucKh685-LFjurm_AbkeWRkPVHtgi5fU\/edit#slide=id.gc70e71d1bc_0_28\">Getting Started: First Steps in Ruby\/Rails Development Google Slides <\/a><\/strong><\/p>\n\n\n\n<p><strong>Instructions for Configuring Your Machine<\/strong><\/p>\n\n\n\n<p>You will have to do the following steps:<\/p>\n\n\n\n<ol><li>Install an editor.&nbsp; You can use VSCode or Atom, and there are others as well.<\/li><li>Install git if it is not already present. Your system will probably already have this.<\/li><li>Install your ruby\/rails environment.<\/li><\/ol>\n\n\n\n<p>In the next sections, there are specific descriptions on how to set up your machine.  Depending on your specific machine configuration, there may be differences in what you need to do.&nbsp; If you have trouble, ask via Slack on how to get around it.<\/p>\n\n\n\n<p>There are specific steps for installation on<\/p>\n\n\n\n<ul><li>Linux Ubuntu<\/li><li>Mac OSX<\/li><li>Windows 10 (you must have at least 8G of memory)<\/li><\/ul>\n\n\n\n<p>If you do not have a machine of this description &#8212; for example, if your Windows machine only has 4G of memory &#8212; you will not be able to do local Rails development on your machine.  Put a message in Slack and we will consider alternatives.  <\/p>\n\n\n\n<p>After you have configured your machine for Rails, verify your configuration<a href=\"#verifyingRails\">.<\/a>  See the section at the bottom of this page.<\/p>\n\n\n\n<h2>Linux Setup on Ubuntu<\/h2>\n\n\n\n<p>This information is for Ubuntu.&nbsp; The same steps can be done on other Linux distributions, but you have to use different installation tools.<\/p>\n\n\n\n<p>For rails environment installation, you can follow the instructions here: <a href=\"https:\/\/teamtreehouse.com\/library\/installing-rails-on-linux\">https:\/\/teamtreehouse.com\/library\/installing-rails-on-linux<\/a> .&nbsp; With one important change! The instructor recommends ruby 2.3.1.&nbsp; This is too old.&nbsp; Specify ruby 2.6.5.<\/p>\n\n\n\n<h2>Mac OSX Setup<\/h2>\n\n\n\n<p>To install Ruby and Rails on the Mac, you can follow the instructions here: <a href=\"https:\/\/teamtreehouse.com\/library\/installing-a-rails-5-development-environment-on-mac\">https:\/\/teamtreehouse.com\/library\/installing-a-rails-5-development-environment-on-mac<\/a> With the following exceptions!&nbsp; To install rvm, after you install gpg, you need to install two gpg keys, not just one.  The entire line is<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>gpg --keyserver hkp:\/\/pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB\n<\/code><\/pre>\n\n\n\n<p>Update!  the hkp protocol uses a non-standard port, which may be blocked by some firewalls.  If the command above times out, try:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>gpg --keyserver hkp:\/\/pool.sks-keyservers.net:80 --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB<\/code><\/pre>\n\n\n\n<p>Sometimes, that key server doesn&#8217;t respond, in which case you could try one of these, perhaps with the :80 at the end:<\/p>\n\n\n\n<ul><li>hkp:\/\/ipv4.pool.sks-keyservers.net<\/li><li>hkp:\/\/pgp.mit.edu<\/li><li>hkp:\/\/keyserver.pgp.com<\/li><\/ul>\n\n\n\n<p>After you install rvm and get the new terminal window, run<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>rvm install 2.6.5\nrvm use 2.6.5 --default<\/code><\/pre>\n\n\n\n<p>Then you can install Rails 5.0.0 as described in the video.&nbsp; Note that you do not have to install a javascript engine, as this is built into Mac OSX.<\/p>\n\n\n\n<h2>Windows 64Bit Setup<\/h2>\n\n\n\n<p>DO NOT follow the Treehouse video on how to set up Rails on Windows.&nbsp; It is too old and no longer works.<\/p>\n\n\n\n<p>We are going to set up a Linux virtual machine on Windows.&nbsp; The Linux virtual machine already has Ruby, rvm, node.js, bundler, and rails, and the other packages you need.&nbsp; This is a minimal virtual machine, so that it uses little memory.&nbsp; It has no GUI.<\/p>\n\n\n\n<ol><li>Install VirtualBox from <a href=\"https:\/\/www.virtualbox.org\/\">https:\/\/www.virtualbox.org\/<\/a> .\u00a0 These steps are tested with VirtualBox 6.1.12, but you can install the latest version.\u00a0 Take the defaults for the installation options.<\/li><li>Install Vagrant <a href=\"https:\/\/www.vagrantup.com\/\">https:\/\/www.vagrantup.com\/<\/a> .\u00a0 These steps are tested with Vagrant 2.2.9, but you can use the latest version.\u00a0 Be sure you install the 64 bit version.\u00a0 The installation is slow, so be patient.\u00a0 You will be given one or several security warnings, but proceed with the install.\u00a0 You will have to reboot your machine following the install.<\/li><li>Download <a href=\"https:\/\/drive.google.com\/file\/d\/1mEhiGPcRV_WesMyePwqTviSPRDFjW6f5\">rails-ctd_1_1.box<\/a> .\u00a0 You may get a security warning, but download it anyway. The download takes a long time.<\/li><li>Open Git Bash.\u00a0 You will have a shortcut on your desktop to open it. Type the following:<ol><li>cd ~<\/li><li>mkdir rails-ctd<\/li><\/ol><\/li><li>Move the rails-ctd_1_1.box file from your downloads folder into this new rails-ctd folder.\u00a0 In the File Explorer left hand pane, there is a person icon with your name.\u00a0 Open that up to find the rails-ctd folder.\u00a0 You will need to know how to find this folder when you use Atom or your preferred editor.<\/li><li>Within your Git Bash session, type:<\/li><\/ol>\n\n\n\n<pre class=\"wp-block-code\"><code>cd ~\/rails-ctd\r\nvagrant box add .\/rails-ctd_1_1.box  --name rails-ctd_1_1\r\nvagrant init rails-ctd_1_1<\/code><\/pre>\n\n\n\n<p>This completes the Windows install and setup.<\/p>\n\n\n\n<h2>Windows: Using the rails-ctd Virtual Box and Git for Windows<\/h2>\n\n\n\n<p>Each time you use the development environment you have just set up, you do these steps.<\/p>\n\n\n\n<ol><li>Start&nbsp; Git Bash<\/li><li>cd ~\/rails-ctd<\/li><li>vagrant up<ol><li>Notes: this will take a little while.&nbsp; You can leave the virtual box running, even when you sleep the box, to save time.&nbsp;&nbsp;<\/li><li>You will see several messages, including one about the guest additions version not matching.&nbsp; You can ignore that message.<\/li><\/ol><\/li><li>vagrant ssh<\/li><\/ol>\n\n\n\n<p>This starts the environment and takes you to a linux command shell.&nbsp; You can type rails &#8211;version to make sure it is working.&nbsp; If you don\u2019t get this far, ask for help on Slack.<\/p>\n\n\n\n<p>There are three parts to the Windows development environment.<\/p>\n\n\n\n<ul><li>The vagrant ssh linux environment.&nbsp; This is where you will do all of your rails, ruby, bundle, irb, git and gem commands.<\/li><li>Git Bash.&nbsp; This is where you will do all your vagrant commands.<\/li><li>Your editor.<\/li><li>You do not use the Windows command prompt.<\/li><\/ul>\n\n\n\n<p>Be sure you are in the right command environment when you do command line operations.&nbsp; You can have multiple Git Bash windows open concurrently.&nbsp; You can also have multiple vagrant ssh windows open for one vagrant virtual box.&nbsp; You exit vagrant ssh by typing exit.&nbsp; You exit Git Bash the same way.<\/p>\n\n\n\n<p>You do git commands from the vagrant ssh linux environment.&nbsp; You should configure this environment as follows: <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>git config --global core.eol lf\ngit config --global core.autocrlf input<\/code><\/pre>\n\n\n\n<p>You must be in the Git Bash ~\/rails-ctd directory to do vagrant commands.<\/p>\n\n\n\n<p>To stop the virtual box, type: vagrant halt .<\/p>\n\n\n\n<h2>Verifying your Rails Installation<\/h2>\n\n\n\n<p>To verify that your environment is working correctly, we are going to create a sample rails application.&nbsp; For MacOS or Linux, open a command window or terminal and go to the directory where you are keeping your code.&nbsp; On Windows, open the vagrant ssh environment.&nbsp; Then type&nbsp;<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>rails new sample1<\/code><\/pre>\n\n\n\n<p>This will create a sample1 directory and many files and folders within it. Do not start the rails application yet! It won\u2019t run because of an sqlite3 problem.<\/p>\n\n\n\n<p>Rails commands after you create the sample1 application are done from the sample1 directory.&nbsp; There is a bin\/rails file there, which is used for rails commands for this sample application.<\/p>\n\n\n\n<p>There is an incompatibility between the current version of the sqlite3 gem and Rails 5.0.&nbsp; We will specify an older version of the sqlite3 gem in the Gemfile.&nbsp; Edit this file, which is in the sample1 directory.&nbsp; Change the line that says<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>gem 'sqlite3'<\/code><\/pre>\n\n\n\n<p>To<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>gem 'sqlite3', '~&gt; 1.3.6'<\/code><\/pre>\n\n\n\n<p>Then, go to the sample1 directory in your command window and type:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>bundle install<\/code><\/pre>\n\n\n\n<p>You are now ready to start Rails. From the command line, in the sample1 directory, type:<\/p>\n\n\n\n<p>(for Windows Vagrant)<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>bin\/rails s -b 0.0.0.0<\/code><\/pre>\n\n\n\n<p>(or, for Linux or Mac)<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>bin\/rails s<\/code><\/pre>\n\n\n\n<p>To preview your application, you go to your browser and type:<\/p>\n\n\n\n<p><a href=\"http:\/\/localhost:3000\">http:\/\/localhost:3000<\/a><\/p>\n\n\n\n<p>The browser window should show a graphic with \u201cWelcome to Rails\u201d.&nbsp; If this does not work, try to figure out why, asking for help if needed.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Resource: Getting Started: First Steps in Ruby\/Rails Development Google Slides Instructions for Configuring Your Machine You will have to do the following steps: Install an editor.&nbsp; You can use VSCode or Atom, and there are others as well. Install git if it is not already present. Your system will probably already have this. Install your<\/p>\n","protected":false},"author":5,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"_genesis_hide_title":false,"_genesis_hide_breadcrumbs":false,"_genesis_hide_singular_image":false,"_genesis_hide_footer_widgets":false,"_genesis_custom_body_class":"","_genesis_custom_post_class":"","_genesis_layout":"","_vp_format_video_url":"","_vp_image_focal_point":[]},"featured_image_src":null,"featured_image_src_square":null,"_links":{"self":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages\/781"}],"collection":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/comments?post=781"}],"version-history":[{"count":0,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages\/781\/revisions"}],"wp:attachment":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/media?parent=781"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}