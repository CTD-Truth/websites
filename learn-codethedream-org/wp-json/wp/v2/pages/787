{"id":787,"date":"2020-12-29T18:21:42","date_gmt":"2020-12-29T23:21:42","guid":{"rendered":"https:\/\/learnctd.wpengine.com\/?page_id=787"},"modified":"2022-02-19T22:02:51","modified_gmt":"2022-02-20T03:02:51","slug":"back-end-section-2","status":"publish","type":"page","link":"https:\/\/learn.codethedream.org\/red-eel-back-end-class\/back-end-section-2\/","title":{"rendered":"Back End Lesson 1.2: More SQL, Ruby Introduction"},"content":{"rendered":"\n<p>Welcome to Ruby on Rails Back End Class Lesson 2. In this unit, we will learn:<\/p>\n\n\n\n<ul><li>What is a Relational Database | Database Normalization | Database Keys| Relationships | Set Operations<\/li><li>Database joins<\/li><li>Ruby syntax | Objects | Strings | Numbers | If statements<\/li><\/ul>\n\n\n\n<h2 id=\"back-end-lesson-1-2-goals\">Back End Lesson 1.2 Goals<\/h2>\n\n\n\n<ul><li>Getting acquainted with the database and more complex concepts<\/li><li>Practice join logic<\/li><li>Explore the Ruby environment and learn how to write simple Ruby programs<\/li><\/ul>\n\n\n\n<h2 id=\"curriculum\">Curriculum<\/h2>\n\n\n\n<p>This is your curriculum for Lesson 1.2.<strong><br><strong>1.2.1 <a href=\"https:\/\/teamtreehouse.com\/library\/querying-relational-databases\">Querying Relational Databases<\/a> (145 min)<br>1.2.2 <a href=\"https:\/\/teamtreehouse.com\/library\/ruby-basics-2\">Ruby Basics<\/a><\/strong><\/strong> <strong>(169 min)<\/strong><\/p>\n\n\n\n<h2 id=\"data-normalization-and-object-relational-mapping\">Data Normalization and Object Relational Mapping<\/h2>\n\n\n\n<p>When you set up your database, you first figure out your data model.  Then you create the tables associated with that model.  A database has more function than a spreadsheet table, in that the storage of data can be normalized.  Normalized data has associations between tables, to store data more compactly.  Consider the w3schools database here: <a href=\"https:\/\/www.w3schools.com\/sql\/trysql.asp?filename=trysql_select_columns\">https:\/\/www.w3schools.com\/sql\/trysql.asp?filename=trysql_select_columns<\/a> .  There is an association between the order table and the customer table.  If we had to store all the information about a customer, including each of their orders, in one table, the table would have to have an unlimited number of columns.  So the orders are put in a separate table.  Each entry in the customer table has a primary key, which is the id.  Each entry in the order table has a foreign key, which is the customer_id.  So any given order record points back to the corresponding customer.  In the order table, there are several other foreigh keys, corresponding to the employee and the shipper associated with the order.  We say that the order belongs to the customer, and that the customer has many orders.  Note that we do not change the customer table in order for the order to belong to the customer.  We only have the required customer_id column in the order table.  This is a one-to-many association.<\/p>\n\n\n\n<p>There are also many-to-many associations.  In the w3schools database, an order may be comprised of many products.  On the other hand a given product may be included in many orders.  If we add the foreigh key order_id to the product table, we could have many products for an order, but not many orders for a product.  Suppose we also add the product_id foreign key to the order table.  That doesn&#8217;t solve it either.  A product would belong to only one order, and an order would belong to only one product.  The problem is solved by having  a join table.  The join table has both the product_id and the order_id.  For a given order, there may be many entries in the join table, each pointing to a different product.  For a given product, there may be many entries in the join table, each pointing to a different order.  In the w3schools database, the join table is the OrderDetails table.  Note that the join table may contain additional information.  In this case it contains a quantity column, which tells how many of a given product are included in the order.<\/p>\n\n\n\n<p>In Rails and in other frameworks, the database is often accessed using an Object Relational Mapping (ORM).  The Rails ORM is called ActiveRecord.   The value of an ORM is that you can use object oriented syntax for operations, instead of having to code the SQL directly.  For example:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>Order.all<\/code><\/pre>\n\n\n\n<p>would give an array of objects corresponding to the SQL<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>SELECT * FROM Orders;<\/code><\/pre>\n\n\n\n<p>and these statements<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>order = Order.find(10248)\norder.products<\/code><\/pre>\n\n\n\n<p>would return an array of objects corresponding to the SQL<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>orders = SELECT * FROM Orders WHERE id = 10248 LIMIT 1;\nSELECT * FROM Products WHERE order_id = ?, orders&#91;0].id;<\/code><\/pre>\n\n\n\n<p>All of this will become clearer when you do the ActiveRecord exercises for Rails.<\/p>\n\n\n\n<h2 id=\"assignments\">Assignments<\/h2>\n\n\n\n<p>Your assignment for Lesson 1.2 can be found<a href=\"https:\/\/classroom.github.com\/a\/TEnB9osU\"> <\/a><a href=\"https:\/\/github.com\/Code-the-Dream-School\/Backend-sqlruby\"><strong>here<\/strong><\/a>.<\/p>\n\n\n\n<p>Your mindset curriculum assignment can be found <a href=\"https:\/\/learn.codethedream.org\/mindset-curriculum-assignment-on-mindset\/\" target=\"_blank\" rel=\"noreferrer noopener\"><strong>here<\/strong><\/a>.<\/p>\n\n\n\n<p><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Welcome to Ruby on Rails Back End Class Lesson 2. In this unit, we will learn: What is a Relational Database | Database Normalization | Database Keys| Relationships | Set Operations Database joins Ruby syntax | Objects | Strings | Numbers | If statements Back End Lesson 1.2 Goals Getting acquainted with the database and<\/p>\n","protected":false},"author":5,"featured_media":0,"parent":784,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"_genesis_hide_title":false,"_genesis_hide_breadcrumbs":false,"_genesis_hide_singular_image":false,"_genesis_hide_footer_widgets":false,"_genesis_custom_body_class":"","_genesis_custom_post_class":"","_genesis_layout":"","_vp_format_video_url":"","_vp_image_focal_point":[]},"featured_image_src":null,"featured_image_src_square":null,"_links":{"self":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages\/787"}],"collection":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/comments?post=787"}],"version-history":[{"count":0,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages\/787\/revisions"}],"up":[{"embeddable":true,"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/pages\/784"}],"wp:attachment":[{"href":"https:\/\/learn.codethedream.org\/wp-json\/wp\/v2\/media?parent=787"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}